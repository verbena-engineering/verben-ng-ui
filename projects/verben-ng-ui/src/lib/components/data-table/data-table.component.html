<table>
  <thead>
    <tr>
      <th *ngFor="let column of columns">{{ column.header }}</th>
    </tr>
  </thead>
  <tbody>
    @for (row of data; track row.id; let rowIndex = $index) {
    <tr>
      @for (column of columns; track column.id) {
      <td>
        <ng-container
          *ngTemplateOutlet="
            column.cellTemplate || defaultCellTemplate;
            context: {
              $implicit: getCellValue(row, column),
              row: row,
              column: column,
              rowIndex: rowIndex,
              isEditing: isRowEditing()(row.id)
            }
          "
        ></ng-container>
      </td>
      }
    </tr>
    }
  </tbody>
</table>
<ng-template #defaultCellTemplate let-value>{{ value }}</ng-template>
