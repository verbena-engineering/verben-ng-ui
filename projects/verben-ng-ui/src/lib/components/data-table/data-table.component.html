<table>
  <thead>
    <tr>
      @for (column of columns; track column.id) {
      <th>
        @if (column.headerTemplate) {
        <ng-container
          *ngTemplateOutlet="
            column.headerTemplate;
            context: getHeaderContext(column)
          "
        ></ng-container>
        } @else {
        {{ column.header }}
        }
      </th>
      }
    </tr>
  </thead>
  <tbody>
    @for (row of data; track row.id; let rowIndex = $index) {
    <tr>
      @for (column of columns; track column.id) {
      <td>
        @if (column.cellTemplate) {
        <ng-container
          *ngTemplateOutlet="
            column.cellTemplate;
            context: getCellContext(row, column, rowIndex)
          "
        ></ng-container>
        } @else {
        {{ getCellValue(row, column) }}
        }
      </td>
      }
    </tr>
    }
  </tbody>
  <tfoot>
    <tr>
      @for (column of columns; track column.id) {
      <td>
        @if (column.footerTemplate) {
        <ng-container
          *ngTemplateOutlet="
            column.footerTemplate;
            context: getFooterContext(column)
          "
        ></ng-container>
        }
      </td>
      }
    </tr>
  </tfoot>
</table>
